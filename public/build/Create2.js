import{r as p,u as f,j as e,a as c}from"./app.js";import{C as h}from"./custom-submit-button.js";import{L as l,I as m}from"./label.js";import{I as u}from"./input.js";import{A as j}from"./app-layout.js";import{A as g}from"./auth-layout.js";import"./app2.js";import"./createLucideIcon.js";import"./loader.js";import"./index.js";import"./index2.js";import"./index3.js";function $({product:a}){const s=a!=null,[x,i]=p.useState(!1),{errors:n}=f().props,[t,o]=p.useState({name:a?.name||"",unit:a?.unit||"",price:a?.price||""}),d=()=>(i(!0),s?c.put(`/products/${a?.id}`,t,{onFinish:()=>{i(!1)}}):c.post("/products",t,{onFinish:()=>{i(!1)}}));return e.jsx(j,{children:e.jsxs(g,{title:`${s?"Edit":"Create New"} Product`,description:s?`Fill the form to update ${a.name} product`:"Fill the form to create a new product",children:[e.jsxs("div",{className:"flex-col columns-2 flex gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{htmlFor:"name",children:"Name"}),e.jsx(u,{id:"name",name:"name",value:t.name,onChange:r=>o({...t,name:r.target.value})}),e.jsx(m,{message:n.name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{htmlFor:"unit",children:"Unit"}),e.jsx(u,{id:"unit",name:"unit",value:t.unit,onChange:r=>o({...t,unit:r.target.value})}),e.jsx(m,{message:n.unit})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{htmlFor:"price",children:"Price"}),e.jsx(u,{id:"price",type:"number",name:"price",step:1,value:t.price,onChange:r=>o({...t,price:Number(r.target.value)>0?Number(r.target.value):""})}),e.jsx(m,{message:n.price})]})]}),e.jsx(h,{label:s?"Update":"Create",isLoading:x,onClick:()=>d()})]})})}export{$ as default};
