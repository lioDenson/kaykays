import{r as d,u as c,j as e,H as b,a as x}from"./app-PccVoXma.js";import{C}from"./custom-selection-ChyKN3lN.js";import{C as y}from"./custom-submit-button-C3jsCBL3.js";import{L as p,I as i}from"./label-B75mYwfy.js";import{I as h}from"./input-BvD20U66.js";import{A as N,C as F}from"./app-layout-CBXR6lOZ.js";import{A as S}from"./auth-layout-Bq2gos-b.js";import{s as n}from"./index-vmwrf4-U.js";import{c as E}from"./createLucideIcon-BBMH4QBs.js";import"./app-Dso-gTI6.js";import"./index-DBBclmEc.js";import"./search-9ujo9a3l.js";import"./index-DwxeKqD2.js";import"./loader-_qUP40tW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],k=E("Table",_);function O({user:a}){const l=a!=null,[s,o]=d.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",role_id:a?.role_id||null}),[m,f]=d.useState({value:a?.roles[0]?.id||0,label:a?.roles[0]?.name||"Role"});d.useEffect(()=>{o({...s,role_id:m.value})},[m]);const g=c().props.auth,j=c().props.roles,{errors:r}=c().props,u=l?g.user.id===a.id:!1,v=()=>l?x.put(n("users.update",a.id),s):x.post(n("users.store"),s);return e.jsx(N,{links:[{label:"Dashboard",href:n("dashboard"),icon:F},{label:"All Users",href:n("users.index"),icon:k}],children:e.jsxs(S,{title:`${l?`Edit ${a.name}`:"Create User"} `,description:l?`Fill the form to update ${a.name}`:"Fill the form to create a new user",children:[e.jsx(b,{title:"Create User"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"name",children:"Full Name"}),e.jsx(h,{id:"name",type:"name",value:s.name,name:"name",autoFocus:!0,placeholder:"Dennis Kimanthi",onChange:t=>o({...s,name:t.target.value})}),e.jsx(i,{message:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(C,{disabled:u,selectedOption:m,data:j,label:"Select Role",placeholder:"Select Role",className:"w-full",onSelect:t=>{f({value:t.value,label:t.label})}}),e.jsx(i,{message:r.role_id})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",disabled:u||l,value:s.email,name:"email",autoFocus:!0,placeholder:"username@email.com",onChange:t=>o({...s,email:t.target.value})}),e.jsx(i,{message:r.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"name",children:"Phone"}),e.jsx(h,{id:"phone",type:"phone",value:s.phone,name:"phone",autoFocus:!0,placeholder:"0712345678",onChange:t=>o({...s,phone:t.target.value})}),e.jsx(i,{message:r.phone})]}),e.jsx(y,{className:"mt-4 w-full",label:`${l?"Update":"Create"} User`,onClick:v})]})]})})}export{O as default};
