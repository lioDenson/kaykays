import{r as i,u as h,j as t,H as x,a as u}from"./app-Cm4b0MRZ.js";import{C as d}from"./custom-input-C8zmYmQE.js";import{C as g}from"./custom-submit-button-C9KFqMKP.js";import{A as C,C as b}from"./app-layout-CKTzcKJV.js";import{A as v}from"./auth-layout-C4tO_X4t.js";import{s as l}from"./index-vmwrf4-U.js";import{c as j}from"./createLucideIcon-CDzehuva.js";import"./app-BUjcEukZ.js";import"./label-CX7AZ_dB.js";import"./index-0pHPRr8x.js";import"./input-4zn4-9bI.js";import"./loader-CORz_YrV.js";import"./index-BzTAvke0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],U=j("Table",y);function R({user:e,rolling:k}){const r=e!=null,[a,s]=i.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",role_id:e?.role_id||null}),[p,E]=i.useState({value:e?.roles[0]?.id||0,label:e?.roles[0]?.name||"Role"});i.useEffect(()=>{s({...a,role_id:p.value})},[p]),h().props.auth;const n=h().props.errors,[c,m]=i.useState(!1),f=()=>(m(!0),r?u.put(l("users.update",e.id),a,{onFinish:()=>{m(!1)}}):u.post(l("users.store"),a,{onFinish:()=>{m(!1)}}));return t.jsx(C,{links:[{label:"Dashboard",href:l("dashboard"),icon:b},{label:"All Users",href:l("users.index"),icon:U}],children:t.jsxs(v,{title:`${r?`Edit ${e.name}`:"Create User"} `,description:r?`Fill the form to update ${e.name}`:"Fill the form to create a new user",children:[t.jsx(x,{title:"Create User"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[t.jsx(d,{id:"name",name:"name",label:"Name",value:a.name,onChange:o=>s({...a,name:o.target.value}),error:n.name}),t.jsx(d,{id:"email",name:"email",label:"Email",value:a.email,onChange:o=>s({...a,email:o.target.value}),error:n.email})]}),t.jsx(d,{id:"phone",name:"phone",label:"Phone",value:a.phone,onChange:o=>s({...a,phone:o.target.value}),error:n.phone}),t.jsx(g,{className:"mt-4 w-full",label:`${r?"Update":"Create"} User`,isLoading:c,activeLabel:`${r?"Updating":"Creating"} User...`,onClick:f})]})]})})}export{R as default};
